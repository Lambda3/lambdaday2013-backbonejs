(function(){define(["views/CadastroEventoView"],function(n){var i,t;return t=null,i=$("<div><\/div>"),describe("Cadastro Evento View",function(){return beforeEach(function(){return spyOn(n.prototype,"exibirLista").andReturn(),t=new n({el:i})}),it("deve ter um template",function(){return expect(t.template).toBeDefined()}),it("deve ter um el",function(){return expect(t.$el).toBeDefined()}),it("deve ter um model",function(){return expect(t.model).toBeDefined()}),describe("Ao renderizar",function(){return beforeEach(function(){return t.render()}),it("deve exibir formulário de cadastro",function(){return expect($("fieldset .form-actions",t.el)).toBeDefined()})}),describe("Ao preencher um campo",function(){return it("deve atualizar o modelo",function(){var n;return n=$("#Nome",t.el).val("Lambda Day"),n.blur(),expect(t.model.get("Nome")).toBe("Lambda Day")})}),describe("Ao salvar o modelo com sucesso",function(){return beforeEach(function(){return spyOn($,"ajax").andCallFake(function(n){return n.success({Id:1,Nome:"Evento 1",Data:"2013-03-14T12:56:59.0934901-03:00",QuantidadeVagas:100}),n.then=function(n){return n.apply(this)},n})}),it("deve redirecionar para a listagem de eventos",function(){return $("#salvar",t.el).click(),expect(t.exibirLista).toHaveBeenCalled()})}),describe("Ao salvar o modelo e der erro",function(){return beforeEach(function(){return spyOn($,"ajax").andCallFake(function(n){return n.success({status:500}),n.then=function(n){return n.apply(this)},n})}),it("deve exibir mensagem",function(){return $("#salvar",t.el).click(),expect($("div.alert-error")).not.toHaveClass("invisible")})})})})}).call(this)
(function(){define(["views/ListaEventosView"],function(n){var i,t;return t=null,i=$("<div><\/div>"),describe("Lista Eventos View",function(){return beforeEach(function(){return spyOn(n.prototype,"criarEvento").andReturn(),t=new n({el:i})}),it("deve ter um template",function(){return expect(t.template).toBeDefined()}),it("deve ter um el",function(){return expect(t.$el).toBeDefined()}),it("deve ter uma collection",function(){return expect(t.collection).toBeDefined()}),describe("Ao renderizar",function(){return beforeEach(function(){return spyOn($,"ajax").andCallFake(function(n){return n.success({Id:1,Nome:"Evento 1",Data:"2013-03-14T12:56:59.0934901-03:00",QuantidadeVagas:100}),n.then=function(n){return n.apply(this)},n}),spyOn(Backbone.Collection.prototype,"each").andReturn(),t.render()}),it("deve exibir uma tabela que conterá todos os eventos cadastrados",function(){return expect($("#listaEventos",t.el)).toBeDefined()}),it("deve obter a lista de eventos e preencher a collection",function(){return expect(t.collection.length).toBe(1)}),it("deve iterar sobre os itens da collection para exibí-los",function(){return expect(t.collection.each).toHaveBeenCalled()})}),describe('Ao clicar no botão "Novo evento"',function(){return it("deve redirecionar para o formulário de cadastro",function(){return $("#incluir-evento",t.el).click(),expect(t.criarEvento).toHaveBeenCalled()})})})})}).call(this)